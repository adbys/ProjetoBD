CREATE TABLE Bacia( idBacia char(10),
		    nome VARCHAR(30),
		    area DECIMAL,
		    perimetro DECIMAL,
		    PRIMARY KEY (idBacia)
		  );

CREATE TABLE Rio( idRio char(10),
				  nome VARCHAR(30),
				  indicativo VARCHAR(30),
			      idBacia char(10),
				  PRIMARY KEY (idRio),
				  FOREGIN KEY (idBacia) REFERENCES Bacia(idBacia)
		);

CREATE TABLE Acude( idAcude char(10),
				    nome VARCHAR(30),
				    volumeMaximo DECIMAL,
				    comprimento DECIMAL,
				    area DECIMAL,
				    idRio char(10), 
				    PRIMARY KEY (idAcude),
				    FOREGIN KEY (idRio) REFERENCES Rio(idRio)
		  		  );


CREATE TABLE Usuario( matricula char(10),
		      		  nome VARCHAR(30),
		      		  PRIMARY KEY (matricula)
		  			);

CREATE TABLE Estacao_de_qualidade( idEstacaoQualidade char(10),
		                   		   nome VARCHAR(30),
		                   		   latitude DECIMAL,
				   				   longitude DECIMAL,
								   idRio char(10),
								   idAcude char(10),
								   data DATE,
							       ph DECIMAL,
							       dbo DECIMAL,
							       turbidez DECIMAL,
							       oxigenio DECIMAL,
							       alcalinidade DECIMAL,
		                   		   PRIMARY KEY (idEstacaoQualidade),
								   FOREGIN KEY idRio REFERENCES Rio(idRio),
								   FOREGIN KEY idAcude REFERENCES Acude(idAcude),
								   CHECK (idRio IS NOT NULL OR idAcude IS NOT NULL)
		                 );

CREATE TABLE Posto_pluviometrico( idPostoPluviometrico char(10),
						          nome VARCHAR(30),
						          --ENDERECO -> COMPOSTO(RUA, NUM, BAIRRO, MUNICIPIO, ESTADO) acredito que deixar tudo na mesma tabela
								  --rua VARCHAR(50),
								  --num INTEGER,
								  --bairro VARCHAR(50),
								  --municipio VARCHAR(50),
								  --estado VARCHAR(30),
								  idBacia char(10), --Gerando relacionamento bacia monitorada por posto pluviometrico
						          PRIMARY KEY (idPostoPluviometrico),
								  FOREGIN KEY (idBacia) REFERENCES Bacia(idBacia)
		                 );

CREATE TABLE Endereco_posto_pluviometrico( rua VARCHAR(50),
									   	   num INTEGER,
									   	   bairro VARCHAR(50),
									   	   municipio VARCHAR(50),
									       estado VARCHAR(30),
										   idPostoPluviometrico char(10),
							               PRIMARY KEY (idPostoPluviometrico rua num bairro municipio estado),
										   FOREGIN KEY (idPostoPluviometrico) REFERENCES Posto_pluviometrico(idPostoPluviometrico)
					 					 );



CREATE TABLE Telefones_usuario( ddd CHAR(2),
							    numero VARCHAR(9),
							    matricula char(10) NOT NULL,
							    FOREGIN KEY(matricula) REFERENCES Usuario(matricula),
							    PRIMARY KEY(matricula numero ddd)
			 				  );

CREATE TABLE Contribuicao_posto_pluviometrico_acude( idPostoPluviometrico char(10),
												     idAcude char(10),
												     FOREGIN KEY(idPostoPluviometrico) REFERENCES Posto_pluviometrico(idPostoPluviometrico),
												     FOREGIN KEY(idAcude) REFERENCES Acude(idAcude),
												     PRIMARY KEY (idPostoPluviometrico idAcude)
						   							);

CREATE TABLE Cota_area_volume( id char(10),
						       cota DECIMAL,
						       area DECIMAL,
						       volume DECIMAL,
						       idAcude char(10), --Gerando a relacao acude tem cota_area_volume
						       PRIMARY KEY (id),
						       FOREGIN KEY (idAcude) REFERENCES Acude(idAcude)
			     			 );


CREATE TABLE Medicao_cota_diaria( idMedicaoDiaria char(10),
				  cotaAtual DECIMAL,
				  data DATE,
				  matricula char(10), --Gerando a relacao acude tem medicao diaria
				  idAcude char(10), --Gerando a relacao usuario realiza medicao diaria
				  FOREGIN KEY matricula REFERENCES Usuario(matricula),
				  FOREGIN KEY idAcude REFERENCES Acude(idAcude),
				  PRIMARY KEY(idMedicaoDiaria)
				);

CREATE TABLE Medicao_pluviometrica( idMedicao char(10),
								    idPostoPluviometrico char(10),
								    matricula char(10),
								    FOREGIN KEY matricula REFERENCES Usuario(matricula),
								    FOREGIN KEY idPostoPluviometrico REFERENCES Posto_pluviometrico(idPostoPluviometrico),
								    PRIMARY KEY(idMedicao)
								  );

CREATE TABLE Valores_diarios_medicao_pluviometrica( valorChuva DECIMAL,
												    data DATE,
									       			idMedicao char(10),
									       			FOREGIN KEY(idMedicao) REFERENCES Medicao_pluviometrica(idMedicao),
									       			PRIMARY KEY(valorChuva data idMedicao)
			     			  					  );